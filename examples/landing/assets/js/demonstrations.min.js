var SDK,_ref;SDK=null!=(_ref=window.SDK)?_ref:{},SDK.Weather=function(){var e,r,o,n;return e="http://api.worldweatheronline.com/",n="free",o="/v1/weather.ashx",r="6fubz25shqbwdvgzdt98s8dn",{setBaseUrl:function(r){return e=String(r)},setKey:function(e){return r=String(e)},setType:function(e){return"free"===e||"premium"===e?n=e:void 0},setPage:function(e){return o=String(e)},load:function(t){var c,a;return t=$.extend({location:"London",format:"json",dataType:"json",days:1,location:!0,comments:!1,callback:function(){},scope:this},t),a=e+n+o,c={key:r,q:t.location,format:t.format,num_of_days:t.days,includelocation:t.location?"yes":"no",show_comments:t.comments?"yes":"no"},$.ajax({url:a,type:"get",data:c,dataType:t.dataType,crossDomain:!0}).done(function(e,r,o){return t.callback.apply(t.scope,[!0,e,r,o])}).fail(function(e,r,o){return t.callback.apply(t.scope,[!1,o,r,e])})}}}(),$(function(){var e,r,o,n,t,c,a,l,i,s,u,d,f,p,g,h,v,b,w,m,x;return e=$("#app-title"),t=$("form#form-mix"),r=$("#average-mixing-color-1").val("#ffffff").css("background-color","#ffffff"),o=$("#average-mixing-color-2").val("#000000").css("background-color","#000000"),i=$("#color-mix"),w=function(){var e,n,t;return e=new ColorMix.Color(r.val()),n=new ColorMix.Color(o.val()),t=ColorMix.mix([e,n],[50,50]),t.useAsBackground(i.selector),i.empty().append($("<div>",{"class":"color-1"}).css("background-color",r.val())).append($("<div>",{"class":"color-2"}).css("background-color",o.val())).append($("<div>",{"class":"color-values-container"}).append($("<div>",{"class":"color-value-rgb"}).text(t.toString("rgb"))).append($("<div>",{"class":"color-value-hsl"}).text(t.toString("hsl"))).append($("<div>",{"class":"color-value-hex"}).text(t.toString("hex"))))},a=$("#gradient-color-1").val("#ffffff").css("background-color","#ffffff"),l=$("#gradient-color-2").val("#000000").css("background-color","#000000"),c=$("#gradient"),b=function(){var e,r;return e=new ColorMix.Color(a.val()),r=new ColorMix.Color(l.val()),ColorMix.setGradient([{reference:0,color:e},{reference:11,color:r}]),$(".gradient-step","#gradient").each(function(e){return ColorMix.blend(e).useAsBackground($(this))})},g=0,v="up",x=250,m=x,s=$("#speed-slider"),h=function(e){var r,o,t;return r=new ColorMix.Color(a.val()),o=new ColorMix.Color(l.val()),t=[{reference:0,color:r},{reference:e,color:o}],ColorMix.setGradient(t),ColorMix.blend(g).useAsBackground(n),g+="up"===v?1:-1,g>t[t.length-1].reference&&(v="down"),0===g?v="up":void 0},d=$("#widget-weather"),u=$("#weather-button"),p=function(e){var r,o,n,t,c,a,l,i;return r=$(e),i="London",l={},a=function(){var e;return ColorMix?(ColorMix.setGradient([{reference:-30,color:{red:123,green:219,blue:243}},{reference:-27.5,color:{red:124,green:217,blue:238}},{reference:-25,color:{red:128,green:214,blue:233}},{reference:-22.5,color:{red:128,green:214,blue:233}},{reference:-20,color:{red:136,green:207,blue:219}},{reference:-17.5,color:{red:141,green:203,blue:212}},{reference:-15,color:{red:146,green:204,blue:243}},{reference:-12.5,color:{red:151,green:194,blue:195}},{reference:-10,color:{red:157,green:190,blue:187}},{reference:-7.5,color:{red:162,green:186,blue:178}},{reference:-5,color:{red:169,green:180,blue:168}},{reference:-2.5,color:{red:175,green:175,blue:159}},{reference:0,color:{red:181,green:171,blue:149}},{reference:2.5,color:{red:187,green:166,blue:139}},{reference:5,color:{red:193,green:161,blue:130}},{reference:7.5,color:{red:199,green:156,blue:121}},{reference:10,color:{red:205,green:151,blue:112}},{reference:12.5,color:{red:210,green:147,blue:103}},{reference:15,color:{red:216,green:142,blue:94}},{reference:17.5,color:{red:221,green:138,blue:86}},{reference:20,color:{red:226,green:134,blue:79}},{reference:22.5,color:{red:230,green:131,blue:72}},{reference:25,color:{red:234,green:127,blue:66}},{reference:27.5,color:{red:238,green:124,blue:60}},{reference:30,color:{red:241,green:122,blue:55}}]),e=$(".gradient-step","#temperature-gradient").length,$(".gradient-step","#temperature-gradient").each(function(r){return m=(r-(e-1)/2)*(30/((e-1)/2)),ColorMix.blend(m).useAsBackground($(this))})):void 0},n=function(){return a.apply(this),t.apply(this)},t=function(){var e;return e=this,SDK.Weather.load({dataType:"jsonp",location:i,callback:function(r,n){return r?(l=n.data,o.apply(e)):console.error("Impossible to load the weather widget data from the API.")},scope:this})},c=function(){var e,o,n;for(n=0,e=ColorMix.getGradient(),o=e.length;o--&&l.current_condition[0].temp_C<=e[o].reference;)n++;return n=(1-1*n/e.length)*r.parent().width()-r.width()/2,r.css({transform:"translate3d("+n+"px, 0, 0)","-o-transform":"translate3d("+n+"px, 0, 0)","-ms-transform":"translate3d("+n+"px, 0, 0)","-moz-transform":"translate3d("+n+"px, 0, 0)","-webkit-transform":"translate3d("+n+"px, 0, 0)"})},o=function(){return a.apply(this),c.apply(this),r.length>0?r.empty().append($("<div>",{"class":"widget-weather-location"}).text(i)).append($("<div>",{"class":"widget-weather-temperature"}).text(l.current_condition[0].temp_C+" Â°C")).append($("<div>",{"class":"widget-weather-informations"}).append($("<div>",{"class":"widget-weather-wind"}).append($("<div>",{"class":"widget-weather-wind-container"}).append($("<span>",{"class":"widget-weather-wind-value"}).text(l.current_condition[0].windspeedKmph+" km/h")))).append($("<div>",{"class":"widget-weather-humidity"}).append($("<div>",{"class":"widget-weather-humidity-container"}).append($("<span>",{"class":"widget-weather-humidity-value"}).text(l.current_condition[0].humidity+" %"))))).css("backgroundColor",ColorMix.blend(l.current_condition[0].temp_C).toString("rgb")):void 0},{init:function(){return n.apply(this),this},setLocation:function(e){return i=String(e),t.apply(this),this}}},f=new p(d).init(),n=$("#background-color"),prettyPrint(),ColorMix.setGradient([{reference:0,color:new ColorMix.Color(0,179,255)},{reference:7,color:new ColorMix.Color(255,61,0)}]),e.find(".character").each(function(e){return ColorMix.blend(e).useAsColor($(this))}),b(),r.colorpicker().on({changeColor:function(e){return $(this).val(e.color.toHex()).css("background-color",e.color.toHex()),w()}}),o.colorpicker().on({changeColor:function(e){return $(this).val(e.color.toHex()).css("background-color",e.color.toHex()),w()}}),a.colorpicker().on({changeColor:function(e){return $(this).val(e.color.toHex()).css("background-color",e.color.toHex()),b()}}),l.colorpicker().on({changeColor:function(e){return $(this).val(e.color.toHex()).css("background-color",e.color.toHex()),b()}}),s.on("sliderchange",function(e,r){return m=(x-r.value*x/100)/2+125}),setInterval(function(){return h(m)},25),t.on({submit:function(e){return e.preventDefault(),r.val()&&o.val()?w():void 0}}).submit(),u.on({click:function(e){var r;return e.preventDefault(),r=$(this),r.button("loading"),navigator.geolocation?(navigator.geolocation.getCurrentPosition(function(e){return r.button("reset"),f.setLocation(String(e.coords.latitude+","+e.coords.longitude))}),function(e){var o;return r.button("reset"),o="It was impossible to retrieve your position because : ",o+=function(){switch(e.code){case 1:return"the permission is denied.";case 2:return"the position is unavailable.";case 3:return"it was too long to retrieve.";default:return"an unknown error happened."}}(),console.error(o),alert(o)}):alert("Your browser seems to not be able to use the Geolocation. Please update it, or change for a modern browser !")}})});